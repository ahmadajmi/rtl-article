Manage RTL CSS with Sass and Grunt.
-----------------------------------

As a native Arabic speaker I have worked on many multilingual websites before, some websites was already exist with only LTR CSS support then I have to support RTL and some projects started it from scratch. Before i start using Sass and Grunt, supporting both directions was a nightmare and a time waste process in addition to code repetition. The very important thing when working on multimilngual projects with two directions is to write CSS that support both RTL and LTR in an effective, automated and dynamic way that we don't have to repeat or overite CSS.

What's the difference between the two directions is generally about float, direction, padding and margin, theses are mostly what we will work with and and mostly all our CSS code consist of all of them.

## The problem

Let's how this can be solved by old methods.

Now how can we improve this, the solution is to use Sass and  a JavaScript task manager like grunt to automate and enhance the workflow.

## Setup grunt tasks

``` javascript
module.exports = function(grunt) {
  grunt.initConfig({
    pkg: grunt.file.readJSON('package.json'),

    sass: {
      dist: {
        files: {
          'css/ltr-app.css': 'scss/ltr-app.scss',
          'css/rtl-app.css': 'scss/rtl-app.scss'
        }
      }
    }

  });

  grunt.loadNpmTasks('grunt-sass');

  grunt.registerTask('default', ['sass']);
};
```

The important thing in the previous code is the Sass task that deals with two Sass files, one for the default normal direction (LTR) and one for the other direction (RTL).

Another file (`style.scss`) is the main Sass file that we can import other project files inside it and also that file will be imported in both `ltr-app.scss` and `rtl-app.scss` files.


Second we will setup Sass variables to handle each direction.

```css
$default-float:       left  !default;
$opposite-float:      right !default;

$default-direction:   ltr   !default;
$opposite-direction:  ltr   !default;
```

But what about the content of `ltr-app.scss` and `rtl-app.scss` files, as above we will import `style.scss` in both files, but in the `rtl-app.scss` we will overite variables to be the oppisite direction (RTL).

Let's see the content of both files and we start with `ltr-app.scss`

``` css
// Import the main style

@import 'style';
```

And `rtl-app.scss` will look like this

``` css
// Rsset float && direction, this is the default for RTL languages

$default-float:       right;
$opposite-float:      left;

$default-direction:   rtl;
$opposite-direction:  ltr;

// Import the main style

@import 'style';
```

And this should be the content inside our main `style.scss`

```
// Import variables and other Sass files
@import 'variables';
@import 'mixins';

// Author Style

body {
	direction: $default-direction
}

.media {
	float: $default-float;
}
```

As you can see this file is the core Sass file which will include all other files and may be contain some general styles.

## Working with Helper Classes and Templates

When working with Helper Classes mixed with template files (HTML - erb) or any other template engine, we will face a problem here. Let's see an example.

``` html
<div class="text-left">
  <!-- content -->
</div>
```

``` css
.text-left   { text-align: left; }
.text-right  { text-align: right; }
```

The html above will not change as we write HTML for all languages, so the above `div` will be always be aligned to the left. But this is not what we want to do, we want to align it to the left in LTR and to the right in RTL.

We can solve this issue by using some variables in HTMl like

``` html
<div class="text-#{default-float}">
  <!-- content -->
</div>
```

The `default-float` variable above will be generated by the template engine and the server side or client side solution. Ask your genius coworker to generate theses variables for you or you can google it. What will be generated after the template above is parsed in

LTR

``` html
<div class="text-float">
  <!-- content -->
</div>
```

RTL

``` html
<div class="text-right">
  <!-- content -->
</div>
```

## Working with background images

A very good trick I experienced before is how to add some image that have a specefic direction as a CSS background, let's see an example.

```sass
.button {
	background-image: url("images/arror-#{default-float}.png");
}
```

The result will be as

```css
// app.ltr.css

.button {
	background-image: url(images/arror-left.png);
}
```

```css
// app.ltr.css

.button {
	background-image: url(images/arror-right.png);
}
```

## Sass Mixins

## Conclusion

As we saw this solution fixed the RTL and LTR was very well, Grunt Sass are doing things we no longer want to do manually.

http://stackoverflow.com/questions/25749044/add-a-rtl-scss-file-to-zurb-foundation-5
